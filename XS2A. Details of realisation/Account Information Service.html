<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Account Information Service</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_account_information_service">Account Information Service</h2>
<div class="sectionbody">
<!-- toc disabled -->
<div class="sect2">
<h3 id="_establish_account_information_consent">Establish account information consent</h3>
<div class="paragraph">
<p>The support of this endpoint at the XS2A interface is mandatory.
A TPP may execute transactions according to this use case to receive the right to execute further transactions according to the other use cases of the account information service. Subject to consent of the PSU, the TPP can obtain the following rights for transactions (of the account information service):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Get the list of reachable accounts of the PSU once;</p>
</li>
<li>
<p>Get the balances for a list of accounts once or multiple times;</p>
</li>
<li>
<p>Get payment transaction information for a list of accounts once or multiple times.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_xs2a_performs_validation">XS2A performs validation</h4>
<div class="paragraph">
<p>TPP data from certificate in request is compared in CMS with TPP data in Consent:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Account data should be requested by the same TPP which was given a Consent (TPP Reg_Num = tpp_id). In case when validation is unsuccessful, XS2A sends the response with HTTP code 400 CONSENT_UNKNOWN;</p>
</li>
<li>
<p>First check should be for consent access, and then for expiration;</p>
</li>
<li>
<p>The consent is considered ready to be used by the TPP to access the AIS service when the status is VALID. A consent with RECEIVED status does not have an access token yet. If TPP wants to get account details, transactions and balances with consent which status is Received, XS2A sends the response with HTTP code 401 CONSENT_INVALID;</p>
</li>
<li>
<p>In case of usage non-existent consent-id XS2A sends response  with HTTP code 403 CONSENT_UNKNOWN.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_account_information_service_in_redirect_approach">Account Information Service in Redirect approach</h4>
<div class="imageblock text-center">
<div class="content">
<img src="../usecases/diagrams/ConsentInitRedirect.png" alt="Consent Initiation in Redirect Approach">
</div>
<div class="title">Figure 1. Consent Initiation in Redirect Approach</div>
</div>
</div>
<div class="sect3">
<h4 id="_account_information_service_in_embedded_approach">Account Information Service in Embedded approach</h4>
<div class="imageblock text-center">
<div class="content">
<img src="../usecases/diagrams/ConsentInitEmbedded.png" alt="Consent Initiation in Embedded Approach">
</div>
<div class="title">Figure 2. Consent Initiation in Embedded Approach</div>
</div>
</div>
<div class="sect3">
<h4 id="_account_information_service_in_decoupled_approach_decoupled_approach_as_a_second_sca_factor">Account Information Service in Decoupled approach (Decoupled approach as a second SCA factor)</h4>
<div class="imageblock text-center">
<div class="content">
<img src="../usecases/diagrams/ConsentInitDecoupled.png" alt="Consent Initiation in Decoupled Approach">
</div>
<div class="title">Figure 3. Consent Initiation in Decoupled Approach</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_consent_models">Consent Models</h3>
<div class="paragraph">
<p>The XS2A supports four different consent models:</p>
</div>
<div class="sect3">
<h4 id="_consent_on_dedicated_accounts">Consent on Dedicated Accounts:</h4>
<div class="paragraph">
<p>Creates an account information consent resource at the ASPSP regarding access to accounts specified in this request.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All permitted "access" attributes ("accounts", "balances" and "transactions") used in this message shall carry a non-empty array of account references, indicating the accounts where the type of access is requested.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
that a "transactions" or "balances" access right also gives access to the generic /accounts endpoints, i.e. is implicitly supporting also the "accounts" access.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Consent on Dedicated Accounts affects on response body for all account endpoints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Get consent request;</p>
</li>
<li>
<p>Read account list;</p>
</li>
<li>
<p>Read account details;</p>
</li>
<li>
<p>Read balance;</p>
</li>
<li>
<p>Read transaction list;</p>
</li>
<li>
<p>Read transaction details;</p>
</li>
<li>
<p>Read card accounts list;</p>
</li>
<li>
<p>Read card account details;</p>
</li>
<li>
<p>Read card account balance;</p>
</li>
<li>
<p>Read card account transaction list;</p>
</li>
<li>
<p>Read list of trusted benefeciaries;</p>
</li>
<li>
<p>Read all identifiers of single card;</p>
</li>
<li>
<p>Read detailed information of single card;</p>
</li>
<li>
<p>Read balance of single card;</p>
</li>
<li>
<p>Read transaction list of single card.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When this Consent Request is a request where the “recurringIndicator” equals true, and if it exists already a former consent
for recurring access on account information for the addressed PSU and potentially addressed corporate identification submitted by this TPP, then the former consent automatically expires as soon as the new consent request is authorised by the PSU.</p>
</div>
<div class="paragraph">
<p>There are no expiration side effects foreseen for Consent Requests where the “recurringIndicator” equals false.</p>
</div>
</div>
<div class="sect3">
<h4 id="_consent_on_account_list_of_available_accounts">Consent on Account List of Available Accounts</h4>
<div class="paragraph">
<p>This function implies a consent resource at the ASPSP to return a list of all available accounts, resp. all available accounts with its balances.</p>
</div>
<div class="paragraph">
<p>The ability to create Consent on Account List of Available Accounts depends on successful validation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The attribute in the ASPSP-Profile "<strong>availableAccountsConsentSupported</strong>" should be set to "TRUE". If Consent on Account List of Available Accounts is not supported in Profile - respond with 400 SERVICE_INVALID;</p>
</li>
<li>
<p>The consent should only contains the "availableAccounts" or “availableAccountsWithBalance” sub attribute within the "access" attribute with value "allAccounts";</p>
</li>
<li>
<p>All possible content of "accounts", "balances", "transactions" fields is ignored if call contains attribute "availableAccounts" or “availableAccountsWithBalance”;</p>
</li>
<li>
<p>Applying one or two-factor authorisation depends on the value  of the parameter in ASPSP-Profile "<strong>scaByOneTimeAvailableAccountsConsentRequired</strong>" (true (by default), false);</p>
</li>
<li>
<p>When in profile parameter “<strong>scaByOneTimeAvailableAccountsConsentRequired</strong>”=<strong>false</strong>, request contains reccuringIndicator=false and in SPI Response "multilevelSca"=true, then multilevel flag is ignored and Consent become "Valid" after execution one-factor authorisation (login and password) by one PSU. </p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Consent on Account List of Available Accounts</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Authorisation</th>
<th class="tableblock halign-left valign-top">Consent</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Account Access</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">availableAccounts OR availableAccountsWithBalance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allAccounts</p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">one-factor authorisation  (PSU-ID and password)</p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"><strong>Consent on Account List of Available Accounts</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><strong>ASPSP Profile</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">availableAccountsConsentSupported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scaByOneTimeAvailableAccountsConsentRequired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Account Access</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">availableAccounts OR availableAccountsWithBalance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allAccounts</p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">two-factor authorisation(PSU-ID and password + TAN)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><strong>ASPSP Profile</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">availableAccountsConsentSupported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scaByOneTimeAvailableAccountsConsentRequired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_bank_offered_consent">Bank Offered Consent</h4>
<div class="paragraph">
<p>This function implies a consent without indication of Accounts. The ASPSP will then agree bilaterally directly with the PSU on which accounts the requested access consent should be supported.</p>
</div>
<div class="paragraph">
<p>During authorisation in Online-Banking PSU chooses type of consent and accesses (it may be Dedicated Account Consent, Global Consent, All Available Accounts Consent or All Available Accounts With Balances Consent)
and Online-Banking stored them through the endpoint PUT /psu-api/v1/ais/consent/{consent-id}/save-access.</p>
</div>
<div class="paragraph">
<p>When TPP requests Get Consent with this consent-id, xs2a should respond with accesses written by Online-Banking in CMS during authorisation.</p>
</div>
<div class="paragraph">
<p>When TPP requests Read Account Data with this consent-id, xs2a should respond according to authorised accesses:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dedicated Account Consent;</p>
</li>
<li>
<p>Global Consent;</p>
</li>
<li>
<p>All Available Accounts Consent or All Available Accounts With Balances Consent.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The ability to create Bank Offered Consent depends on successful validation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The attribute in ASPSP-Profile "<strong>bankOfferedConsentSupported</strong>" should be set to "TRUE". If Bank Offered consent is not supported in Profile - respond with 400 SERVICE_INVALID;</p>
</li>
<li>
<p>The call contains the "accounts", "balances" and/or "transactions" sub attribute within the "access" attribute all with an empty array;</p>
</li>
<li>
<p>For this function the Embedded SCA Approach is not supported.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_global_consent">Global Consent</h4>
<div class="paragraph">
<p>This function implies a consent on all available accounts of the PSU on all PSD2 related account information services (meaning access to all account endpoints including balances and transactions).
Response for Read Account Data request, with Global Consent access, contains links for related balances and transactions.
Global consent can be recurring and one-off.</p>
</div>
<div class="paragraph">
<p>The ability to create Global Consent depends on successful validation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The attribute in ASPSP-Profile "<strong>globalConsentSupported</strong>" should be set to "TRUE". If Global consent is not supported in Profile - respond with 400 SERVICE_INVALID;</p>
</li>
<li>
<p>The call contains the "allPsd2" sub attribute within the "access" attribute with the value "allAccounts";</p>
</li>
<li>
<p>All possible content of "accounts", "balances", "transactions", "availableAccounts" or “availableAccountsWithBalance” fields is ignored if call contains attribute "allPsd2";</p>
</li>
<li>
<p>Applying one or two-factor authorisation depends on the value  of the parameter in ASPSP-Profile "<strong>scaByOneTimeGlobalConsentRequired</strong>" (true (by default), false).</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Global Consent</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Authorisation</th>
<th class="tableblock halign-left valign-top">Consent</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Account Access</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allPsd2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allAccounts</p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">one-factor authorisation  (PSU-ID and password)</p></td>
<td class="tableblock halign-center valign-middle" rowspan="7"><p class="tableblock"><strong>Global Consent</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><strong>ASPSP Profile</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globalConsentSupported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scaByOneTimeGlobalConsentRequired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Account Access</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allPsd2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allAccounts</p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">two-factor authorisation(PSU-ID and password + TAN)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><strong>ASPSP Profile</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globalConsentSupported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scaByOneTimeGlobalConsentRequired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_consent_expiration_date">Consent expiration date</h3>
<div class="paragraph">
<p>All requests to the CMS concerning any consentID should be validated for mandatory field "validUntil". Field "validUntil" is adjusted for Consent in CMS according to parameter in ASPSP-Profile "maxConsentValidityDays":</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if parameter "maxConsentValidityDays" = 0 or empty, then the maximum lifetime of Consent is infinity. Therefore no adjustment should be applied;</p>
</li>
<li>
<p>if parameter "maxConsentValidityDays" &gt; 0, then the limit of a maximum lifetime of Consent is set in days and “validUntil” should be adjusted and stored in CMS with new value. For example, date of Consent request is 2019-03-01, “validUntil” is “9999-12-31" and "maxConsentValidityDays"=10, then adjusted value of “validUntil” should be 2019-03-10. And TPP will get new adjusted value by Get consent request;</p>
</li>
<li>
<p>if parameter "maxConsentValidityDays" &gt; 0 and “validUntil” contains date far than it is allowed by bank, then there should be adjustment to the date according "maxConsentValidityDays". For example, date of Consent request creation is 2019-03-01, “validUntil” is “2019-04-20" and "maxConsentValidityDays"=10, then adjusted value of “validUntil” should be 2019-03-10. And TPP will get new adjusted value by Get consent request;</p>
</li>
<li>
<p>if parameter "maxConsentValidityDays" &gt; 0 and “validUntil” contains date less than it could be allowed by bank, then no adjustment should be applied. For example, date of Consent request creation is 2019-03-01, “validUntil” is “2019-03-10" and "maxConsentValidityDays"=15, then adjusted value of “validUntil” should be 2019-03-10. And TPP will get "validUntil” =2019-03-10 by Get consent request;</p>
</li>
<li>
<p>If the date of "validUntil" is in the past, then XS2A sends the response with HTTP code 401 CONSENT_EXPIRED;</p>
</li>
<li>
<p>In case TPP tries to initiate new authorisation for expired consent, XS2A sends the response with HTTP code 403 CONSENT_EXPIRED.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_frequency_per_day">Frequency Per Day</h3>
<div class="paragraph">
<p>Value frequencyPerDay is adjusted according to profile setting “<strong>accountAccessFrequencyPerDay</strong>” and <strong>cannot be more</strong> than it is set in the ASPSP-Profile.</p>
</div>
</div>
<div class="sect2">
<h3 id="_counting_of_frequencyperday">Counting of frequencyPerDay</h3>
<div class="paragraph">
<p>Attribute <strong>"accountAccessFrequencyPerDay"</strong> in the ASPSP-Profile indicates the requested maximum frequency for an access without PSU involvement per day. For a one-off access, this attribute is set to "1"."</p>
</div>
<div class="paragraph">
<p>Number of TPP accesses is counted by every endpoint:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/accounts;</p>
</li>
<li>
<p>/accounts/account-id per account-id;</p>
</li>
<li>
<p>/accounts/account-id/transactions per account-id;</p>
</li>
<li>
<p>/accounts/account-id/balances per account-id;</p>
</li>
<li>
<p>/accounts/account-id/transactions/transaction-id per account-id, transaction-id, per bookingStatus if applicable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Access to the Read Transactions endpoint is addressed several times with different values for the bookingStatus as query parameter then this is counted as one access.</p>
</div>
<div class="paragraph">
<p>The recognition of several booking statuses is needed since e.g. standing orders are only retrievable with a dedicated query parameter.
This enables the TPP to retrieve e.g. the booked transactions as well as standing orders (information transactions) under the same PSU consent.</p>
</div>
<div class="paragraph">
<p>If the amount of accesses for any of these endpoints is exceeded - <strong>HTTP error 429 ACCESS_EXCEEDED</strong> is returned. All other endpoints are still accessible until their amount is not exceeded.</p>
</div>
<div class="sect3">
<h4 id="_frequencyis_addressing_only_the_read_account_data_requests_without_psu_involvement">Frequency is addressing only the Read Account Data Requests without PSU involvement:</h4>
<div class="ulist">
<ul>
<li>
<p>When any GET Account Data Requests contain filled parameter PSU-IP-Address, then frequencyPerDay isn&#8217;t counted for this request with recurring consent.</p>
</li>
<li>
<p>For one-off consent PSU-IP-Address is ignored and frequencyPerDay is counted.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_consent_statuses">Consent statuses</h3>
<div class="paragraph">
<p>The status of the consent (the data element "consentStatus")resource is changing during the initiation process. In difference to the payment initiation process, there are only SCA checks on the consent resource and no feedback loop with the ASPSP backend.</p>
</div>
<div class="paragraph">
<p>Status settlement:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>While creating consent, in case of existing old unauthorised  recurring consent (status "received") for one TPP and one PSU - its consent status becomes "rejected",  as soon as new recurring one becomes authorised (consent status set to VALID);</p>
</li>
<li>
<p>While creating consent, in case of existing old recurring authorised consent for one TPP and one PSU - its consent status becomes "Terminated_by_TPP" as soon as new recurring consent becomes authorised (consent status set to VALID);</p>
</li>
<li>
<p>Consent without successful authorisation expire after a certain period. Consent Status becomes "rejected" and Sca Status for consent authorisation becomes "failed".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consent Statuses which are defined as <strong>Finalised</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Rejected</strong> (The consent data is rejected e.g. since no successful authorisation takes place);</p>
</li>
<li>
<p><strong>RevokedByPSU</strong> (The consent has been revoked by the PSU);</p>
</li>
<li>
<p><strong>Expired</strong> (The consent has been expired (e.g. after 90 days);</p>
</li>
<li>
<p><strong>TerminatedByTpp</strong> (The corresponding TPP has terminated the consent by applying the DELETE method to the consent resource).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After setting finalised status for consent:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>status isn&#8217;t allowed to be changed in CMS any more;</p>
</li>
<li>
<p>new authorisation sub-resource can&#8217;t be created.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_revoke_all_consents_when_account_is_closed">Revoke all consents when account is closed</h3>
<div class="paragraph">
<p>In case PSU decides to close an account in the bank - ASPSP enables to revoke all AIS and PIIS consents of account in one step. It can be performed via endpoint in the CMS-PSU-API.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_consent_status_request">Get consent Status Request</h3>
<div class="paragraph">
<p>Field <strong>lastActionDate</strong> - is containing the date of the last action on the consent object either through the XS2A interface or the PSU/ASPSP interface having an impact on the status:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When consent is created and gets status "Received" - lastActionDate contains date of consent creation.</p>
</li>
<li>
<p>When consent status is changed - lastActionDate also is updated with new date.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_card_accounts_service">Card Accounts Service</h3>
<div class="paragraph">
<p>XS2A supports card accounts service with endpoints described below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Read list of card accounts (<code>GET /v1/card-accounts</code>)</p>
</li>
<li>
<p>Read card account balances (<code>GET /v1/card-accounts/{account-id}/balances</code>)</p>
</li>
<li>
<p>Read card account&#8217;s transaction list (<code>GET /v1/card-accounts/{account-id}/transactions</code>)</p>
</li>
<li>
<p>Read details of a card account (<code>GET /v1/card-accounts/{account-id}</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To use card account interface, one should add parameter to ASPSP profile in <code>supportedAccountReferenceFields</code> field (<code>MASKED_PAN</code> or/and <code>PAN</code>).
For providing access to card accounts standard AIS consent should be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_single_card_account_service">Single Card Account Service</h3>
<div class="paragraph">
<p>To use Single Card Account interface, ASPSP profile should contain parameter <code>supportedAccountReferenceFields</code> = <code>MASKED_PAN</code> or/and <code>PAN</code>.
For providing access to single card account standard AIS consent should be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_account_owner_name_service">Account Owner Name Service</h3>
<div class="paragraph">
<p>Account Owner Name Service
The following rules and requirements for the support of this service apply:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>An ASPSP may deliver the account owner service without any extension to the consent model as defined in [XS2A-IG].</p>
</li>
<li>
<p>An ASPSP may require an explicit consent by the PSU to deliver the account owner name service.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ASPSP may decide whether to support additional account information or not, by setting the corresponding value for parameter in the ASPSP-Profile:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>accountOwnerInformationSupported</strong> (boolean, default value is FALSE).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If additional account information is supported by ASPSP, then after authorisation of consent ASPSP will indicate additional account information in Account Details or empty array in Account Details (if consent right to have additional info is not confirmed for this PSU).</p>
</div>
<div class="paragraph">
<p>Optional field <strong>"additionalInformation"</strong> of type <strong>"Additional Information Access"</strong> in the Consent Request:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>is asking for additional information as added within this structured object. In case of ASPSP does not support Account Owner Name Service (<strong>accountOwnerInformationSupported = FALSE</strong>)
the ASPSP ignores the corresponding entries. Consent will be created. In this case it will not be part of the consent model which is generated through the call where this object is contained.</p>
</li>
<li>
<p>value of this parameter can be array or empty:</p>
<div class="ulist">
<ul>
<li>
<p>The usage of this data element requires at least one of the entries "accounts", "transactions" or "balances" also to be contained in the object.</p>
</li>
<li>
<p>If the array is empty, also the arrays for accounts, balances or transactions shall be empty if used. If the array is empty in the request, the TPP is asking for the account owner name of all accessible accounts.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In Consent Request body fields <strong>"availableAccounts"</strong>, <strong>"availableAccountsWithBalance"</strong> and <strong>"allPsd2"</strong> may have additional value <strong>"allAccountsWithOwnerName"</strong>.
So if any of these fields are present in consent request and ASPSP-Profile contains <strong>accountOwnerInformationSupported=true</strong>, new values are stored in consent and passed to SPI together with consent object.</p>
</div>
<div class="paragraph">
<p>On SPI Level there is new <code>SpiAdditionalInformationAccess</code> field In <code>SpiAccountConsent</code> object in <code>SpiAccountAccess</code> block which represents TPP desire
to retrieve additional information (<strong>ownerName</strong>) about PSU by it&#8217;s account reference.</p>
</div>
<div class="paragraph">
<p>This information ASPSP can provide through <code>ownerName</code> field in <code>SpiAccountDetails</code> object, during invoking <code>requestAccountList</code> or <code>requestAccountDetailForAccount</code> methods in AccountSpi.</p>
</div>
<div class="paragraph">
<p>Get Consent Request returns created Consent.</p>
</div>
</div>
<div class="sect2">
<h3 id="_trusted_beneficiaries_service">Trusted Beneficiaries Service</h3>
<div class="paragraph">
<p>ASPSP may decide whether to support additional account information (Trusted Beneficiaries) or not, by setting the corresponding value for parameter in the ASPSP-Profile:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>trustedBeneficiariesSupported</strong> (boolean, default value is FALSE).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the ASPSP is not supporting the related consent extension (<strong>trustedBeneficiariesSupported=FALSE</strong>), then the ASPSP ignores the corresponding entries in consent body.
In this case it will not be part of the consent model which is generated through the call where this object is contained. And attribute "trustedBeneficiaries" won&#8217;t be stored and won&#8217;t be present in Get Consent Response.</p>
</div>
<div class="paragraph">
<p>Permission for receiving List of Trusted Beneficiaries can be covered through:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Detailed Consent Model</strong> with an additionalInformation access attribute with "<strong>trustedBeneficiaries</strong>" entry. If detailed accounts are referenced, it is required in addition that any account
addressed within the additionalInformation attribute is also addressed by at least one of the attributes "accounts", "transactions" or "balances".</p>
</li>
<li>
<p><strong>Global Consent Model</strong> always covers the consent on trusted beneficiary lists, with <strong>allPSD2</strong> access attribute with entries "<strong>allAccounts/allAccountsWithOwnerName"</strong>.</p>
</li>
<li>
<p>Consent on <strong>Account List of Available Accounts</strong> will <strong>NOT</strong> give access to an overview of the list of beneficiaries.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For Bank-offered consent there is a possibility to update consent from Online-banking (In cms-psu-api) with additionalInformation with <strong>trustedBeneficiaries</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_account_identifier">Account Identifier</h3>
<div class="paragraph">
<p><strong>aspspAccountId</strong> - This field is a specific unique identifier for bank accounts used in payments, AIS, and PIIS consents (known to bank and given by bank) instead of IBAN and to give all consents for account by this identifier.</p>
</div>
<div class="paragraph">
<p>Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>sets as Optional in Account Reference;</p>
</li>
<li>
<p>can be provided in response to SPI initiatePayment or initiateConsent request;</p>
</li>
<li>
<p>for PIIS aspspAccountId can be provided on creation of PIIS consent on endpoint POST /aspsp-api/v1/piis/consents as a part of account data;</p>
</li>
<li>
<p>can be used as search criteria on export endpoints in CMS then.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ASPSP can add <strong>aspspAccountId</strong> to AIS, PIIS consent while:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create consent request is received, or</p>
</li>
<li>
<p>get account list request is received.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-10-11 13:32:59 UTC
</div>
</div>
</body>
</html>